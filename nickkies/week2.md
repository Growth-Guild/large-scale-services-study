# 2주차

---

## 3장. OS 캐시와 분산

### 강의 10. 국소성(locality)을 살리는 분산
-> 엑세스 패턴을 고려한 분산

#### 1. 파티셔닝
    1. 테이블 단위 분할
        -> 기존 테이블을 나누는 방식

    2. 테이블 데이터 분할
        -> 초성 / 날짜 단위로 나누는 방식
        -> 분할의 단위를 변경시 데이터를 한 번 병합

#### 2. 요청 패턴을 `섬`으로 분할
    1. 캐싱하기 쉬운 섬 (일반 사용자)
    2. 캐싱하기 어려운 섬 (특히 검색 봇)
    3. 이미지등 대용량 섬

#### 페이지 캐시를 고려한 운용의 기본 규칙
    1. OS 기동 직후에 서버를 투입하지 않을 것
        -> 캐시가 없기 때문에 서버가 내려가는 상황 발생 가능
        -> 자주 사용하는 DB파일등을 미리 cat해서 캐싱한 후 로드밸런서에 편입
        -> 충분히 캐시가 최적화 된 후 성능평가 / 부하성능 등을 테스트

#### 요약
    서비스의 서버를 설계할 때,
    향후 서비스의 확장도 생각하되,
    미니멈 스타트와의 최적점을 고려해서,
    최적의 scale-up / scale-out 전략을 짜고,
    scale-out일때는 국소성을 살리는 분산으로 설계한다.
