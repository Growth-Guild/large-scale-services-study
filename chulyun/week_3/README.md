# 3주차

- - -

## 강의 29 - 엔터프라이즈 vs 웹 서비스

### 엔터프라이즈와 웹 서비스의 차이

|   | 엔터프라이즈 | 웹 서비스 |
|---|-----|------------|
|트래픽|그다지 많지 않음|굉장히 많음|
|성장성|적당한 정도| 굉장히 많음 |
|신뢰성|사수|99%|
|트랜잭션|많이 사용|그다지 많이 사용하지 않음|

* 책에서는 아래와 같은 기준으로 엔터프라이즈와 웹 서비스의 경계를 나누었는데 현 시대에는 맞지 않은 내용 같다.
    * 엔터프라이즈는 거대한 규모가 되는 경우가 드물지만 웹 서비스는 글로벌하게 전개되고 있는 서비스라면 트래픽이 크다.
    * 엔터프라이즈는 실제 비즈니스와 연계되어 있으므로 급격하게 성장하지는 않지만, 웹 서비스는 그에비해 성장속도가 매우 빠르다.
    * 장애가 발생해서 데이터가 유실되면 실제로 돈이 사라질 위험이 있으므로 정합성이 중요하지만 웹 서비스는 그렇지 않은 경우가 많다.
    * 엔터프라이즈에서는 데이터 간 정합성을 정확히 유지해야 하지만, 웹 서비스는 그보다는 좀 더 유연하다. 
```
위 내용이 현 시대에도 맞는 이야기라고 생각하지는 않는다.
현 시대에는 많은 웹 서비스들이 존재하고, 다양한 비즈니스들이 IT 기술과 결합하여 생겨나고 있다. 따라서 이를 나누는 경계가 의미가 있다고 생각하지는 않는다.
```

### 웹 서비스의 인프라
* 웹 서비스는 저비용 고효율이 중시된다.
  * 단순히 저비용만 생각할 것이 아니라 그에 따른 트레이드 오프를 잘 고려해야 한다.
* 확장성이나 응답성 등에 대한 설계를 중요시한다.
* 서비스에 대해 기동성 있게 리소스를 제공할 수 있어야 한다.

- - -
## 강의 30 - 클라우드 vs 자체구축 인프라

### 클라우드의 장점
* 저비용으로 시스템을 손쉽게 확장할 수 있다.
* 최근에는 로드밸런서, 데이터베이스의 HA, 전세계에 존재하는 AZ, 확장 가능한 스토리지, 딥러닝 등 다양한 서비스를 제공하고 있어서 초창기의 시스템 구축 비용을 줄일 수 있다.

### 클라우드의 단점
* AWS 등 각 클라우드의 서비스마다 독자적인 사양에 대해 벤더락이 발생한다.
* 클라우드의 장애가 곧 서비스의 장애로 이어질 수 있다.

### 자체구축 인프라의 장점
* 하드웨어 구성을 유연하게 할 수 있다.
* 서비스로부터의 요청에 유연하게 대응할 수 있다.
* 병목현상을 제어할 수 있다.
```text
클라우드 서비스는 이미 자체구축 인프라의 장점에 대해서 논거하고 있지만 요즘 클라우드는 그 장점들을 이미 상회할 정도로 안정화되어 있기 때문에 위 3가지 이유만으로
자체 인프라를 구축할만한 이유가 충분히 설명되지 않는다고 생각한다.
```

- - -
## 강의 31 - 계층과 확장성

### 계층별 확장성
* AP 서버는 기본적으로 Stateless 한 애플리케이션이므로 비교적 간단하게 수평확장이 가능하다.
* DB 나 파일 서버의 경우는 분산, 확장성 확보가 매우 어렵다.
  * 데이터 소스로의 요청은 Read와 Write로 나뉘는데, Read를 분산하는 것은 비교적 용이하지만 Write를 분산하는 것은 매우 어렵다.

- - -
## 강의 32 - 부하 파악, 튜닝

### 부하를 측정하기 위한 항목
* 부하를 볼 때는 먼저 Load Average를 본다.
  * Linux 커널 내에는 다수의 프로세스가 동작하고 있는데, Load Average는 이러한 프로세스가 언제든지 동작할 수 있는 상태이지만, 실제 CPU가 할당되지 않아서 대기상태에 있는 프로세스 수의 평균치이다.
    * ex) 5분간 Load Average가 1이라고 하면, 5분 동안에 평균 1개의 프로세스가 대기 상태로 되어 있다는 것을 의미한다.
  * CPU가 적절하게 할당되면 Load Average 값은 0에 가까워지고, CPU 코어 수 이하이면 양호한 편이다.

